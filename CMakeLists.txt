PROJECT(NIRAL_UTILITIES)

CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
CMAKE_POLICY(VERSION 2.8)

IF(CMAKE_COMPILER_2005)
  ADD_DEFINITIONS(-D_CRT_SECURE_NO_DEPRECATE -D_CRT_NONSTDC_NO_DEPRECATE)
ENDIF(CMAKE_COMPILER_2005)

IF (${CMAKE_SOURCE_DIR} STREQUAL ${NIRAL_UTILITIES_SOURCE_DIR})
  SET (LIBRARY_OUTPUT_PATH ${NIRAL_UTILITIES_BINARY_DIR}/lib CACHE PATH "Single output directory for building all libraries.")
  SET (EXECUTABLE_OUTPUT_PATH ${NIRAL_UTILITIES_BINARY_DIR}/bin CACHE PATH "Single output directory for building all executables.")
ENDIF (${CMAKE_SOURCE_DIR} STREQUAL ${NIRAL_UTILITIES_SOURCE_DIR})

OPTION(COMPILE_IMAGEMATH "Compile ImageMath." ON)
IF(COMPILE_IMAGEMATH)
  SUBDIRS(ImageMath)
ENDIF(COMPILE_IMAGEMATH)

OPTION(COMPILE_IMAGESTAT "Compile ImageStat." ON)
IF(COMPILE_IMAGESTAT)
  SUBDIRS(ImageStat)
ENDIF(COMPILE_IMAGESTAT)

OPTION(COMPILE_CONVERTITKFORMATS "Compile convertITKformats." ON)
IF(COMPILE_CONVERTITKFORMATS)
  SUBDIRS(convertITKformats)
ENDIF(COMPILE_CONVERTITKFORMATS)

OPTION(COMPILE_INTENSITYRESCALER "Compile IntensityRescaler." ON)
IF(COMPILE_INTENSITYRESCALER)
  SUBDIRS (Libraries)
  SUBDIRS(IntensityRescaler)
ENDIF(COMPILE_INTENSITYRESCALER)

OPTION(COMPILE_DWI_NIFTINRRDCONVERSION "Compile DWI_NiftiNrrdConversion." ON)
IF(COMPILE_DWI_NIFTINRRDCONVERSION)
  SUBDIRS(DWI_NiftiNrrdConversion)
ENDIF(COMPILE_DWI_NIFTINRRDCONVERSION)

OPTION(COMPILE_POLYDATATRANSFORM "Compile PolydataTransform." ON)
IF(COMPILE_POLYDATATRANSFORM)
  SUBDIRS(PolydataTransform)
ENDIF(COMPILE_POLYDATATRANSFORM)

OPTION(COMPILE_TRANSFORMDEFORMATIONFIELD "Compile TransformDeformationField." ON)
IF(COMPILE_TRANSFORMDEFORMATIONFIELD)
  SUBDIRS(TransformDeformationField)
ENDIF(COMPILE_TRANSFORMDEFORMATIONFIELD)
